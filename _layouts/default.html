---
---
<!doctype html>
<html lang="{{ page.lang | default: site.lang | default: 'es' }}" data-theme="{{ site.theme | default: 'system' }}" class="no-js">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{% if page.title %}{{ page.title }} Â· {% endif %}{{ site.title | default: "DiCoSTEM" }}</title>
    <meta name="description" content="{{ page.description | default: site.description | default: site.title }}">
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    <link rel="icon" href="{{ '/assets/img/logo_dicostem.svg' | relative_url }}" type="image/svg+xml">
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ page.url | absolute_url }}">
    <meta property="og:image" content="{{ '/assets/img/logo_dicostem.svg' | absolute_url }}">
    <meta name="twitter:card" content="summary">
    <script>document.documentElement.classList.remove('no-js');</script>
  </head>
  <body>
    <a class="skip-link" href="#content">Saltar al contenido</a>
    <header class="site-header">
      <div class="container header-inner">
        <a class="logo" href="{% if page.lang == 'en' %}{{ '/en/' | relative_url }}{% else %}{{ '/' | relative_url }}{% endif %}">
          <img src="{{ '/assets/img/logo_dicostem.svg' | relative_url }}" alt="{{ site.title | default: 'Logo' }}" />
        </a>
        {% include navigation.html %}
        <div class="header-actions">
          {% include lang-switcher.html %}
          <button id="themeToggle" class="theme-toggle" aria-label="Cambiar tema">ðŸŒ“</button>
        </div>
      </div>
    </header>

    <main id="content" class="container">
      {{ content }}
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <div class="footer-left">
          <small>&copy; {{ "now" | date: "%Y" }} {{ site.title | default: "DiCoSTEM" }}</small>
        </div>
        <div class="footer-right">
          {% include lang-switcher.html %}
        </div>
      </div>
    </footer>

    <script>
      (function(){
        const key="theme";
        const root=document.documentElement;
        function currentPref(){
          const s = localStorage.getItem(key);
          return s ? s : "system";
        }
        function apply(t){
          root.dataset.theme = t;
        }
        apply(currentPref());
        document.getElementById('themeToggle')?.addEventListener('click', function(){
          const cur = root.dataset.theme || "system";
          const next = (cur === "dark") ? "light" : "dark";
          localStorage.setItem(key, next);
          apply(next);
        });
      })();
    </script>
  </body>
</html>
